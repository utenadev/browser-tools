Running integration tests for browser-tools CLI...

--- Starting tests ---
NOTE: Ensure Chrome is running via "bun run start" before executing these tests.
âœ“ Test 1: Invalid command fails PASSED
âœ— Test 2: `content` requires url FAILED: Expected to find "Not enough non-option arguments"
   COMMAND: bun dist/index.js content
   OUTPUT: âœ— Chrome is not running. Please start it first with "browser-tools start" or use the "run" command for atomic operations.
...
âœ“ Test 3: `eval` requires code PASSED
âœ“ Test 4: `navigate` requires url PASSED
âœ— Test 5: `navigate` command works FAILED: Expected to find "âœ“ Navigated to: https://example.com"
   COMMAND: bun dist/index.js navigate https://example.com
   OUTPUT: âœ— Chrome is not running. Please start it first with "browser-tools start" or use the "run" command for atomic operations.
...
âœ— Test 6: `eval` command works FAILED: Expected to find "Example Domain"
   COMMAND: bun dist/index.js eval document.title
   OUTPUT: âœ— Chrome is not running. Please start it first with "browser-tools start" or use the "run" command for atomic operations.
...
âœ— Test 7: `content` command with URL works FAILED: Expected to find "Example Domain"
   COMMAND: bun dist/index.js content https://example.com
   OUTPUT: âœ— Chrome is not running. Please start it first with "browser-tools start" or use the "run" command for atomic operations.
...
âœ— Test 8: `run` command executes content extraction FAILED: Expected to find "Example Domain"
   COMMAND: bun dist/index.js run "content https://example.com"
   OUTPUT: ---
ðŸš€ Starting temporary browser for command...
âœ— in 'run' command: getChromePath is not defined
...
âœ— Test 9: `run` command executes screenshot FAILED: Expected to find "âœ“ Screenshot saved to: C:\workspace\browser-tools\legacy-test-screenshot.png"
   COMMAND: bun dist/index.js run "screenshot C:\workspace\browser-tools\legacy-test-screenshot.png --url https://example.com"
   OUTPUT: ---
ðŸš€ Starting temporary browser for command...
âœ— in 'run' command: getChromePath is not defined
...
âœ— Test 9 FAILED: Screenshot file was not created at C:\workspace\browser-tools\legacy-test-screenshot.png

--- All tests completed ---
